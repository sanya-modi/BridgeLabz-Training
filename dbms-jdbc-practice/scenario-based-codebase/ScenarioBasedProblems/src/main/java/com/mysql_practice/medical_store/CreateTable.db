/*
 Visit Management & Medical Records 
*/

CREATE TABLE visits_dc (
    visit_id INT PRIMARY KEY AUTO_INCREMENT,
    appointment_id INT,
    patient_id INT,
    doctor_id INT,
    visit_date DATE,
    diagnosis VARCHAR(255),
    notes TEXT,
    FOREIGN KEY (appointment_id) REFERENCES appointments_dc(appointment_id),
    FOREIGN KEY (patient_id) REFERENCES patients_dc(patient_id),
    FOREIGN KEY (doctor_id) REFERENCES doctors_dc(doctor_id)
);
+----------------+--------------+------+-----+---------+----------------+
| Field          | Type         | Null | Key | Default | Extra          |
+----------------+--------------+------+-----+---------+----------------+
| visit_id       | int          | NO   | PRI | NULL    | auto_increment |
| appointment_id | int          | YES  | MUL | NULL    |                |
| patient_id     | int          | YES  | MUL | NULL    |                |
| doctor_id      | int          | YES  | MUL | NULL    |                |
| visit_date     | date         | YES  |     | NULL    |                |
| diagnosis      | varchar(255) | YES  |     | NULL    |                |
| notes          | text         | YES  |     | NULL    |                |
+----------------+--------------+------+-----+---------+----------------+

CREATE TABLE prescriptions_dc (
    prescription_id INT PRIMARY KEY AUTO_INCREMENT,
    visit_id INT,
    medicine_name VARCHAR(100),
    dosage VARCHAR(100),
    duration_days INT,
    FOREIGN KEY (visit_id) REFERENCES visits_dc(visit_id)
);
+-----------------+--------------+------+-----+---------+----------------+
| Field           | Type         | Null | Key | Default | Extra          |
+-----------------+--------------+------+-----+---------+----------------+
| prescription_id | int          | NO   | PRI | NULL    | auto_increment |
| visit_id        | int          | YES  | MUL | NULL    |                |
| medicine_name   | varchar(100) | YES  |     | NULL    |                |
| dosage          | varchar(100) | YES  |     | NULL    |                |
| duration_days   | int          | YES  |     | NULL    |                |
+-----------------+--------------+------+-----+---------+----------------+
